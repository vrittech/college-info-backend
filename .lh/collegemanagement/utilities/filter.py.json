{
    "sourceFile": "collegemanagement/utilities/filter.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 11,
            "patches": [
                {
                    "date": 1739940081389,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741160622951,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import django_filters\n from django.db.models import Q\n-from .models import College\n+from ..models import College\n from district.models import District\n from affiliation.models import Affiliation\n from collegetype.models import CollegeType\n from discipline.models import Discipline\n@@ -39,8 +39,9 @@\n \n     phone_number = CharInFilter(field_name=\"phone_number\", lookup_expr=\"in\")\n     email = CharInFilter(field_name=\"email\", lookup_expr=\"in\")\n     is_show = django_filters.BooleanFilter(field_name=\"is_show\")\n+    is_show = django_filters.BooleanFilter(field_name=\"is_show\")\n \n     # ManyToMany fields filtering using comma-separated values\n     discipline = django_filters.CharFilter(method=\"filter_by_disciplines\")\n     facilities = django_filters.CharFilter(method=\"filter_by_facilities\")\n"
                },
                {
                    "date": 1741160633450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n \n     phone_number = CharInFilter(field_name=\"phone_number\", lookup_expr=\"in\")\n     email = CharInFilter(field_name=\"email\", lookup_expr=\"in\")\n     is_show = django_filters.BooleanFilter(field_name=\"is_show\")\n-    is_show = django_filters.BooleanFilter(field_name=\"is_show\")\n+    is_verified = django_filters.BooleanFilter(field_name=\"is_show\")\n \n     # ManyToMany fields filtering using comma-separated values\n     discipline = django_filters.CharFilter(method=\"filter_by_disciplines\")\n     facilities = django_filters.CharFilter(method=\"filter_by_facilities\")\n@@ -64,7 +64,7 @@\n     class Meta:\n         model = College\n         fields = [\n             \"id\", \"name\", \"address\", \"district\", \"college_type\", \"affiliated\",\n-            \"established_date\", \"created_date\", \"updated_date\",\n+            \"established_date\", \"created_date\", \"updated_date\", ''\n             \"phone_number\", \"email\", \"is_show\", \"discipline\", \"facilities\"\n         ]\n"
                },
                {
                    "date": 1741160641505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,7 +64,7 @@\n     class Meta:\n         model = College\n         fields = [\n             \"id\", \"name\", \"address\", \"district\", \"college_type\", \"affiliated\",\n-            \"established_date\", \"created_date\", \"updated_date\", ''\n+            \"established_date\", \"created_date\", \"updated_date\", 'is_verified',\n             \"phone_number\", \"email\", \"is_show\", \"discipline\", \"facilities\"\n         ]\n"
                },
                {
                    "date": 1741582583771,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,11 @@\n     address = CharInFilter(field_name=\"address\", lookup_expr=\"in\")\n     district = CharInFilter(field_name=\"district__name\", lookup_expr=\"in\")\n     college_type = django_filters.CharFilter(field_name=\"college_type__id\", lookup_expr=\"exact\")\n     affiliated = django_filters.CharFilter(field_name=\"affiliated__id\", lookup_expr=\"exact\")\n+        affiliation_type = django_filters.CharFilter(field_name='affiliated__affiliation_type', lookup_expr='icontains')\n \n+\n     # Date and year range filters\n     established_date = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"exact\")\n     established_date__gte = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"gte\")\n     established_date__lte = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"lte\")\n"
                },
                {
                    "date": 1741582654862,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n     address = CharInFilter(field_name=\"address\", lookup_expr=\"in\")\n     district = CharInFilter(field_name=\"district__name\", lookup_expr=\"in\")\n     college_type = django_filters.CharFilter(field_name=\"college_type__id\", lookup_expr=\"exact\")\n     affiliated = django_filters.CharFilter(field_name=\"affiliated__id\", lookup_expr=\"exact\")\n-        affiliation_type = django_filters.CharFilter(field_name='affiliated__affiliation_type', lookup_expr='icontains')\n+    affiliation_type = django_filters.CharFilter(field_name='affiliated__affiliation_type', lookup_expr='icontains')\n \n \n     # Date and year range filters\n     established_date = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"exact\")\n@@ -67,6 +67,6 @@\n         model = College\n         fields = [\n             \"id\", \"name\", \"address\", \"district\", \"college_type\", \"affiliated\",\n             \"established_date\", \"created_date\", \"updated_date\", 'is_verified',\n-            \"phone_number\", \"email\", \"is_show\", \"discipline\", \"facilities\"\n+            \"phone_number\", \"email\", \"is_show\", \"discipline\", \"facilities\",\"affiliation_type\"\n         ]\n"
                },
                {
                    "date": 1741582732687,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n     address = CharInFilter(field_name=\"address\", lookup_expr=\"in\")\n     district = CharInFilter(field_name=\"district__name\", lookup_expr=\"in\")\n     college_type = django_filters.CharFilter(field_name=\"college_type__id\", lookup_expr=\"exact\")\n     affiliated = django_filters.CharFilter(field_name=\"affiliated__id\", lookup_expr=\"exact\")\n-    affiliation_type = django_filters.CharFilter(field_name='affiliated__affiliation_type', lookup_expr='icontains')\n+    affiliation_type = django_filters.CharFilter(field_name='affiliated__affiliation_type')\n \n \n     # Date and year range filters\n     established_date = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"exact\")\n"
                },
                {
                    "date": 1741582740092,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n     address = CharInFilter(field_name=\"address\", lookup_expr=\"in\")\n     district = CharInFilter(field_name=\"district__name\", lookup_expr=\"in\")\n     college_type = django_filters.CharFilter(field_name=\"college_type__id\", lookup_expr=\"exact\")\n     affiliated = django_filters.CharFilter(field_name=\"affiliated__id\", lookup_expr=\"exact\")\n-    affiliation_type = django_filters.CharFilter(field_name='affiliated__affiliation_type')\n+    affiliation_type = django_filters.CharFilter(field_name='affiliated__affiliation_type', lookup_expr='exact')\n \n \n     # Date and year range filters\n     established_date = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"exact\")\n"
                },
                {
                    "date": 1741582750757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n     address = CharInFilter(field_name=\"address\", lookup_expr=\"in\")\n     district = CharInFilter(field_name=\"district__name\", lookup_expr=\"in\")\n     college_type = django_filters.CharFilter(field_name=\"college_type__id\", lookup_expr=\"exact\")\n     affiliated = django_filters.CharFilter(field_name=\"affiliated__id\", lookup_expr=\"exact\")\n-    affiliation_type = django_filters.CharFilter(field_name='affiliated__affiliation_type', lookup_expr='exact')\n+    affiliation_type = django_filters.CharFilter(field_name='affiliated__affiliation_type'\n \n \n     # Date and year range filters\n     established_date = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"exact\")\n"
                },
                {
                    "date": 1741582820600,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n     address = CharInFilter(field_name=\"address\", lookup_expr=\"in\")\n     district = CharInFilter(field_name=\"district__name\", lookup_expr=\"in\")\n     college_type = django_filters.CharFilter(field_name=\"college_type__id\", lookup_expr=\"exact\")\n     affiliated = django_filters.CharFilter(field_name=\"affiliated__id\", lookup_expr=\"exact\")\n-    affiliation_type = django_filters.CharFilter(field_name='affiliated__affiliation_type'\n+    affiliation_type = django_filters.CharFilter(field_name='affiliated__university_type')\n \n \n     # Date and year range filters\n     established_date = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"exact\")\n"
                },
                {
                    "date": 1741582827103,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n     address = CharInFilter(field_name=\"address\", lookup_expr=\"in\")\n     district = CharInFilter(field_name=\"district__name\", lookup_expr=\"in\")\n     college_type = django_filters.CharFilter(field_name=\"college_type__id\", lookup_expr=\"exact\")\n     affiliated = django_filters.CharFilter(field_name=\"affiliated__id\", lookup_expr=\"exact\")\n-    affiliation_type = django_filters.CharFilter(field_name='affiliated__university_type')\n+    affiliation_type = django_filters.CharFilter(field_name='affiliated__university_type',)\n \n \n     # Date and year range filters\n     established_date = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"exact\")\n"
                },
                {
                    "date": 1741582835746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n     address = CharInFilter(field_name=\"address\", lookup_expr=\"in\")\n     district = CharInFilter(field_name=\"district__name\", lookup_expr=\"in\")\n     college_type = django_filters.CharFilter(field_name=\"college_type__id\", lookup_expr=\"exact\")\n     affiliated = django_filters.CharFilter(field_name=\"affiliated__id\", lookup_expr=\"exact\")\n-    affiliation_type = django_filters.CharFilter(field_name='affiliated__university_type',)\n+    affiliation_type = django_filters.CharFilter(field_name='affiliated__university_type', lookup_expr='icon')\n \n \n     # Date and year range filters\n     established_date = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"exact\")\n"
                }
            ],
            "date": 1739940081389,
            "name": "Commit-0",
            "content": "import django_filters\nfrom django.db.models import Q\nfrom .models import College\nfrom district.models import District\nfrom affiliation.models import Affiliation\nfrom collegetype.models import CollegeType\nfrom discipline.models import Discipline\nfrom facilities.models import Facility\n\n\nclass CharInFilter(django_filters.BaseInFilter, django_filters.CharFilter):\n    pass\n\nclass NumberInFilter(django_filters.BaseInFilter, django_filters.NumberFilter):\n    pass\n\nclass CollegeFilter(django_filters.FilterSet):\n    id = django_filters.UUIDFilter(field_name=\"public_id\", lookup_expr=\"exact\")\n\n    # Support multiple values using `in` lookup\n    name = CharInFilter(field_name=\"name\", lookup_expr=\"in\")\n    address = CharInFilter(field_name=\"address\", lookup_expr=\"in\")\n    district = CharInFilter(field_name=\"district__name\", lookup_expr=\"in\")\n    college_type = django_filters.CharFilter(field_name=\"college_type__id\", lookup_expr=\"exact\")\n    affiliated = django_filters.CharFilter(field_name=\"affiliated__id\", lookup_expr=\"exact\")\n\n    # Date and year range filters\n    established_date = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"exact\")\n    established_date__gte = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"gte\")\n    established_date__lte = django_filters.DateFilter(field_name=\"established_date\", lookup_expr=\"lte\")\n    \n    created_date = django_filters.DateFilter(field_name=\"created_date\", lookup_expr=\"exact\")\n    created_date__gte = django_filters.DateFilter(field_name=\"created_date\", lookup_expr=\"gte\")\n    created_date__lte = django_filters.DateFilter(field_name=\"created_date\", lookup_expr=\"lte\")\n    \n    updated_date = django_filters.DateFilter(field_name=\"updated_date\", lookup_expr=\"exact\")\n    updated_date__gte = django_filters.DateFilter(field_name=\"updated_date\", lookup_expr=\"gte\")\n    updated_date__lte = django_filters.DateFilter(field_name=\"updated_date\", lookup_expr=\"lte\")\n\n    phone_number = CharInFilter(field_name=\"phone_number\", lookup_expr=\"in\")\n    email = CharInFilter(field_name=\"email\", lookup_expr=\"in\")\n    is_show = django_filters.BooleanFilter(field_name=\"is_show\")\n\n    # ManyToMany fields filtering using comma-separated values\n    discipline = django_filters.CharFilter(method=\"filter_by_disciplines\")\n    facilities = django_filters.CharFilter(method=\"filter_by_facilities\")\n\n    # Custom filtering methods for ManyToMany fields (comma-separated values)\n    def filter_by_disciplines(self, queryset, name, value):\n        \"\"\"Filter by multiple disciplines using comma-separated values\"\"\"\n        if value:\n            discipline_ids = value.split(',') if ',' in value else [value]\n            queryset = queryset.filter(discipline__id__in=discipline_ids).distinct()\n        return queryset\n\n    def filter_by_facilities(self, queryset, name, value):\n        \"\"\"Filter by multiple facilities using comma-separated values\"\"\"\n        if value:\n            facility_ids = value.split(',') if ',' in value else [value]\n            queryset = queryset.filter(facilities__id__in=facility_ids).distinct()\n        return queryset\n\n    class Meta:\n        model = College\n        fields = [\n            \"id\", \"name\", \"address\", \"district\", \"college_type\", \"affiliated\",\n            \"established_date\", \"created_date\", \"updated_date\",\n            \"phone_number\", \"email\", \"is_show\", \"discipline\", \"facilities\"\n        ]\n"
        }
    ]
}