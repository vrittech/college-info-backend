{
    "sourceFile": "collegemanagement/utilities/permissions.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1739257451204,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1739263858875,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,10 +25,9 @@\n         if CanManage(request):  # If user has manage permission, grant full access\n             return True\n \n         if view.action in [\"list\"]:\n-            return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"view\"])\n-\n+            return True\n         elif view.action in [\"retrieve\"]:\n             return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"view\"])\n \n         elif view.action in [\"create\"]:\n"
                },
                {
                    "date": 1739263864080,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,10 +26,11 @@\n             return True\n \n         if view.action in [\"list\"]:\n             return True\n+        \n         elif view.action in [\"retrieve\"]:\n-            return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"view\"])\n+            return True\n \n         elif view.action in [\"create\"]:\n             return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"add\"])\n \n"
                },
                {
                    "date": 1739264324407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n def CanManage(request):\n     \"\"\"Check if the user has full manage access\"\"\"\n     return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"manage\"])\n \n-class CollegeManagementPermission(BasePermission):\n+class collegeManagementPermission(BasePermission):\n     \"\"\"\n     Permission class for managing college data strictly based on Django permissions.\n     \"\"\"\n \n"
                },
                {
                    "date": 1739264336527,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n def CanManage(request):\n     \"\"\"Check if the user has full manage access\"\"\"\n     return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"manage\"])\n \n-class collegeManagementPermission(BasePermission):\n+class collegemanagementPermission(BasePermission):\n     \"\"\"\n     Permission class for managing college data strictly based on Django permissions.\n     \"\"\"\n \n"
                }
            ],
            "date": 1739257451204,
            "name": "Commit-0",
            "content": "from rest_framework.permissions import BasePermission\n\nCOLLEGE_MANAGEMENT_PERMISSIONS = {\n    \"add\": \"add_college\",\n    \"change\": \"change_college\",\n    \"delete\": \"delete_college\",\n    \"view\": \"view_college\",\n    \"manage\": \"manage_college\",\n}\n\ndef HasPermission(request, codename):\n    \"\"\"Check if the user has a specific Django permission\"\"\"\n    return request.user.has_perm(f\"app_name.{codename}\")\n\ndef CanManage(request):\n    \"\"\"Check if the user has full manage access\"\"\"\n    return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"manage\"])\n\nclass CollegeManagementPermission(BasePermission):\n    \"\"\"\n    Permission class for managing college data strictly based on Django permissions.\n    \"\"\"\n\n    def has_permission(self, request, view):\n        if CanManage(request):  # If user has manage permission, grant full access\n            return True\n\n        if view.action in [\"list\"]:\n            return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"view\"])\n\n        elif view.action in [\"retrieve\"]:\n            return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"view\"])\n\n        elif view.action in [\"create\"]:\n            return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"add\"])\n\n        elif view.action in [\"update\", \"partial_update\"]:\n            return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"change\"])\n\n        elif view.action == \"destroy\":\n            return HasPermission(request, COLLEGE_MANAGEMENT_PERMISSIONS[\"delete\"])\n\n        return False  # Default deny access\n"
        }
    ]
}