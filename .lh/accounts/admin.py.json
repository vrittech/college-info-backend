{
    "sourceFile": "accounts/admin.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1733643783199,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1733643783199,
            "name": "Commit-0",
            "content": "from django.contrib import admin\nfrom django.contrib.auth.admin import UserAdmin as BaseUserAdmin\nfrom django.contrib.auth.models import Group\nfrom .models import CustomUser, GroupExtension\n\nclass CustomUserAdmin(BaseUserAdmin):\n    exclude = ('user_permissions',)\n    \n    # Only include fields that are present in the model\n    fieldsets = (\n        (None, {'fields': ('username', 'password')}),\n        ('Personal info', {'fields': ('first_name', 'last_name', 'email','roles','phone', 'avatar', 'professional_image', 'position',)}),\n        ('Permissions', {'fields': ('is_active', 'is_staff', 'is_superuser','groups')}),\n    )\n    \n    list_display = ['username', 'email', 'position','phone', 'is_active', 'is_staff', 'professional_image', 'avatar']\n    search_fields = ['username', 'email', 'full_name','roles',]\n\nadmin.site.register(CustomUser, CustomUserAdmin)\n\n\n@admin.register(GroupExtension)\nclass GroupExtensionAdmin(admin.ModelAdmin):\n    list_display = ['group', 'position']\n    search_fields = ['group__name']\n    list_filter = ['position']\n    ordering = ['position']\n\n    def save_model(self, request, obj, form, change):\n        # Override save_model to handle custom position saving logic if needed\n        super().save_model(request, obj, form, change)\n\n# Unregister and register Group to customize admin panel if necessary\nadmin.site.unregister(Group)\nadmin.site.register(Group)\n"
        }
    ]
}