{
    "sourceFile": "coursemanagement/utilities/filter.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 20,
            "patches": [
                {
                    "date": 1739267387711,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1739267392856,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import django_filters\n from django_filters import rest_framework as filters\n-from .models import Course\n+from ..models import Course\n \n class CharInFilter(django_filters.BaseInFilter, django_filters.CharFilter):\n     pass\n \n"
                },
                {
                    "date": 1739893338873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,8 +14,9 @@\n     abbreviation = CharInFilter(field_name='abbreviation', lookup_expr='in')\n     duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n     faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n     level = NumberInFilter(field_name='level__id', lookup_expr='in')\n+    level = NumberInFilter(field_name='level__id', lookup_expr='in')\n     affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n"
                },
                {
                    "date": 1739893344302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     abbreviation = CharInFilter(field_name='abbreviation', lookup_expr='in')\n     duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n     faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n     level = NumberInFilter(field_name='level__id', lookup_expr='in')\n-    level = NumberInFilter(field_name='level__id', lookup_expr='in')\n+    levdisciplineel = NumberInFilter(field_name='level__id', lookup_expr='in')\n     affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n"
                },
                {
                    "date": 1739893349493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     abbreviation = CharInFilter(field_name='abbreviation', lookup_expr='in')\n     duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n     faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n     level = NumberInFilter(field_name='level__id', lookup_expr='in')\n-    levdisciplineel = NumberInFilter(field_name='level__id', lookup_expr='in')\n+    discipline = NumberInFilter(field_name='level__id', lookup_expr='in')\n     affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n"
                },
                {
                    "date": 1739893363034,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     abbreviation = CharInFilter(field_name='abbreviation', lookup_expr='in')\n     duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n     faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n     level = NumberInFilter(field_name='level__id', lookup_expr='in')\n-    discipline = NumberInFilter(field_name='level__id', lookup_expr='in')\n+    discipline = NumberInFilter(field_name='discipline__id', lookup_expr='in')\n     affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n"
                },
                {
                    "date": 1739893372171,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,7 +27,7 @@\n     class Meta:\n         model = Course\n         fields = [\n             'id', 'name', 'abbreviation', 'duration', 'faculty', 'level',\n-            'affiliation', 'description', 'course_shortdescription', \n+            'affiliation', 'description','' 'course_shortdescription', \n             'course_outcome', 'eligibility_criteria', 'created_date', 'updated_date'\n         ]\n"
                },
                {
                    "date": 1739893377474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,7 +27,7 @@\n     class Meta:\n         model = Course\n         fields = [\n             'id', 'name', 'abbreviation', 'duration', 'faculty', 'level',\n-            'affiliation', 'description','' 'course_shortdescription', \n+            'affiliation', 'description','discipline', 'course_shortdescription', \n             'course_outcome', 'eligibility_criteria', 'created_date', 'updated_date'\n         ]\n"
                },
                {
                    "date": 1739893586916,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,20 +14,26 @@\n     abbreviation = CharInFilter(field_name='abbreviation', lookup_expr='in')\n     duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n     faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n     level = NumberInFilter(field_name='level__id', lookup_expr='in')\n-    discipline = NumberInFilter(field_name='discipline__id', lookup_expr='in')\n     affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n     eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n     created_date = filters.DateFromToRangeFilter(field_name='created_date')\n     updated_date = filters.DateTimeFromToRangeFilter(field_name='updated_date')\n \n+    # Filtering for multiple disciplines (ManyToMany relationship)\n+    discipline = django_filters.ModelMultipleChoiceFilter(\n+        field_name='discipline__id',\n+        queryset=Course.objects.all().values_list('discipline__id', flat=True).distinct(),\n+        conjoined=False\n+    )\n+\n     class Meta:\n         model = Course\n         fields = [\n             'id', 'name', 'abbreviation', 'duration', 'faculty', 'level',\n-            'affiliation', 'description','discipline', 'course_shortdescription', \n+            'affiliation', 'description', 'discipline', 'course_shortdescription',\n             'course_outcome', 'eligibility_criteria', 'created_date', 'updated_date'\n         ]\n"
                },
                {
                    "date": 1739894218860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,14 +22,10 @@\n     eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n     created_date = filters.DateFromToRangeFilter(field_name='created_date')\n     updated_date = filters.DateTimeFromToRangeFilter(field_name='updated_date')\n \n-    # Filtering for multiple disciplines (ManyToMany relationship)\n-    discipline = django_filters.ModelMultipleChoiceFilter(\n-        field_name='discipline__id',\n-        queryset=Course.objects.all().values_list('discipline__id', flat=True).distinct(),\n-        conjoined=False\n-    )\n+    # Fix: Use NumberInFilter for discipline to allow comma-separated IDs (e.g., ?discipline=4,5)\n+    discipline = NumberInFilter(field_name='discipline__id', lookup_expr='in')\n \n     class Meta:\n         model = Course\n         fields = [\n"
                },
                {
                    "date": 1739894433986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,11 +22,16 @@\n     eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n     created_date = filters.DateFromToRangeFilter(field_name='created_date')\n     updated_date = filters.DateTimeFromToRangeFilter(field_name='updated_date')\n \n-    # Fix: Use NumberInFilter for discipline to allow comma-separated IDs (e.g., ?discipline=4,5)\n-    discipline = NumberInFilter(field_name='discipline__id', lookup_expr='in')\n+    discipline = django_filters.CharFilter(method='filter_by_disciplines')\n \n+    def filter_by_disciplines(self, queryset, name, value):\n+        if value:\n+            disciplines = value.split(',') if ',' in value else [value]\n+            queryset = queryset.filter(discipline__id__in=disciplines).distinct()\n+        return queryset\n+\n     class Meta:\n         model = Course\n         fields = [\n             'id', 'name', 'abbreviation', 'duration', 'faculty', 'level',\n"
                },
                {
                    "date": 1739894439272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,4 +37,5 @@\n             'id', 'name', 'abbreviation', 'duration', 'faculty', 'level',\n             'affiliation', 'description', 'discipline', 'course_shortdescription',\n             'course_outcome', 'eligibility_criteria', 'created_date', 'updated_date'\n         ]\n+z\n\\ No newline at end of file\n"
                },
                {
                    "date": 1739894444741,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,6 +36,5 @@\n         fields = [\n             'id', 'name', 'abbreviation', 'duration', 'faculty', 'level',\n             'affiliation', 'description', 'discipline', 'course_shortdescription',\n             'course_outcome', 'eligibility_criteria', 'created_date', 'updated_date'\n-        ]\n-z\n\\ No newline at end of file\n+        ]\n\\ No newline at end of file\n"
                },
                {
                    "date": 1741323830047,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,10 +19,15 @@\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n     eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n-    created_date = filters.DateFromToRangeFilter(field_name='created_date')\n-    updated_date = filters.DateTimeFromToRangeFilter(field_name='updated_date')\n+created_date = django_filters.DateFilter(field_name=\"created_date\", lookup_expr=\"exact\")\n+    created_date__gte = django_filters.DateFilter(field_name=\"created_date\", lookup_expr=\"gte\")\n+    created_date__lte = django_filters.DateFilter(field_name=\"created_date\", lookup_expr=\"lte\")\n+    \n+    updated_date = django_filters.DateFilter(field_name=\"updated_date\", lookup_expr=\"exact\")\n+    updated_date__gte = django_filters.DateFilter(field_name=\"updated_date\", lookup_expr=\"gte\")\n+    updated_date__lte = django_filters.DateFilter(field_name=\"updated_date\", lookup_expr=\"lte\")\n \n     discipline = django_filters.CharFilter(method='filter_by_disciplines')\n \n     def filter_by_disciplines(self, queryset, name, value):\n"
                },
                {
                    "date": 1741323835245,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n     eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n-created_date = django_filters.DateFilter(field_name=\"created_date\", lookup_expr=\"exact\")\n+    created_date = django_filters.DateFilter(field_name=\"created_date\", lookup_expr=\"exact\")\n     created_date__gte = django_filters.DateFilter(field_name=\"created_date\", lookup_expr=\"gte\")\n     created_date__lte = django_filters.DateFilter(field_name=\"created_date\", lookup_expr=\"lte\")\n     \n     updated_date = django_filters.DateFilter(field_name=\"updated_date\", lookup_expr=\"exact\")\n"
                },
                {
                    "date": 1741582881066,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,8 +15,10 @@\n     duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n     faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n     level = NumberInFilter(field_name='level__id', lookup_expr='in')\n     affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n+        affiliation_type = django_filters.CharFilter(field_name='affiliated__university_type', lookup_expr='icontains')\n+\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n     eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n"
                },
                {
                    "date": 1741582889609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,10 +15,9 @@\n     duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n     faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n     level = NumberInFilter(field_name='level__id', lookup_expr='in')\n     affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n-        affiliation_type = django_filters.CharFilter(field_name='affiliated__university_type', lookup_expr='icontains')\n-\n+    affiliation_type = django_filters.CharFilter(field_name='affiliated__university_type', lookup_expr='icontains')\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n     eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n"
                },
                {
                    "date": 1741582901955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n     duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n     faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n     level = NumberInFilter(field_name='level__id', lookup_expr='in')\n     affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n-    affiliation_type = django_filters.CharFilter(field_name='affiliated__university_type', lookup_expr='icontains')\n+    affiliation_type = django_filters.CharFilter(field_name='affiliation__university_type', lookup_expr='icontains')\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n     eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n"
                },
                {
                    "date": 1741590294434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n     duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n     faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n     level = NumberInFilter(field_name='level__id', lookup_expr='in')\n     affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n-    affiliation_type = django_filters.CharFilter(field_name='affiliation__university_type', lookup_expr='icontains')\n+    _type = django_filters.CharFilter(field_name='affiliation__university_type', lookup_expr='icontains')\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n     eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n"
                },
                {
                    "date": 1741590310939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n     duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n     faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n     level = NumberInFilter(field_name='level__id', lookup_expr='in')\n     affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n-    _type = django_filters.CharFilter(field_name='affiliation__university_type', lookup_expr='icontains')\n+    university_type = django_filters.CharFilter(field_name='affiliation__university_type', lookup_expr='icontains')\n     description = CharInFilter(field_name='description', lookup_expr='in')\n     course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n     course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n     eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n@@ -41,6 +41,6 @@\n         model = Course\n         fields = [\n             'id', 'name', 'abbreviation', 'duration', 'faculty', 'level',\n             'affiliation', 'description', 'discipline', 'course_shortdescription',\n-            'course_outcome', 'eligibility_criteria', 'created_date', 'updated_date'\n+            'course_outcome', 'eligibility_criteria', 'created_date', 'updated_date',\"university_type\"\n         ]\n\\ No newline at end of file\n"
                },
                {
                    "date": 1741590319862,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,6 +41,6 @@\n         model = Course\n         fields = [\n             'id', 'name', 'abbreviation', 'duration', 'faculty', 'level',\n             'affiliation', 'description', 'discipline', 'course_shortdescription',\n-            'course_outcome', 'eligibility_criteria', 'created_date', 'updated_date',\"university_type\"\n+            'course_outcome', 'eligibility_criteria', 'created_date', 'updated_date','university_type'\n         ]\n\\ No newline at end of file\n"
                }
            ],
            "date": 1739267387711,
            "name": "Commit-0",
            "content": "import django_filters\nfrom django_filters import rest_framework as filters\nfrom .models import Course\n\nclass CharInFilter(django_filters.BaseInFilter, django_filters.CharFilter):\n    pass\n\nclass NumberInFilter(django_filters.BaseInFilter, django_filters.NumberFilter):\n    pass\n\nclass CourseFilter(filters.FilterSet):\n    id = NumberInFilter(field_name='id', lookup_expr='in')\n    name = CharInFilter(field_name='name', lookup_expr='in')\n    abbreviation = CharInFilter(field_name='abbreviation', lookup_expr='in')\n    duration = NumberInFilter(field_name='duration__id', lookup_expr='in')\n    faculty = NumberInFilter(field_name='faculty__id', lookup_expr='in')\n    level = NumberInFilter(field_name='level__id', lookup_expr='in')\n    affiliation = NumberInFilter(field_name='affiliation__id', lookup_expr='in')\n    description = CharInFilter(field_name='description', lookup_expr='in')\n    course_shortdescription = CharInFilter(field_name='course_shortdescription', lookup_expr='in')\n    course_outcome = CharInFilter(field_name='course_outcome', lookup_expr='in')\n    eligibility_criteria = CharInFilter(field_name='eligibility_criteria', lookup_expr='in')\n    created_date = filters.DateFromToRangeFilter(field_name='created_date')\n    updated_date = filters.DateTimeFromToRangeFilter(field_name='updated_date')\n\n    class Meta:\n        model = Course\n        fields = [\n            'id', 'name', 'abbreviation', 'duration', 'faculty', 'level',\n            'affiliation', 'description', 'course_shortdescription', \n            'course_outcome', 'eligibility_criteria', 'created_date', 'updated_date'\n        ]\n"
        }
    ]
}